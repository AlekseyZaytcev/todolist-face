{"version":3,"sources":["webpack:///./src/components/registration/Form.js","webpack:///./src/components/registration/RegistrationContainer.js","webpack:///./src/pages/sign_up.js"],"names":["ReginstrationForm","props","handleSubmit","e","preventDefault","data","FormData","target","get","setErrorMessage","setState","state","isInvalid","window","fetch","method","body","JSON","stringify","user","Object","fromEntries","headers","then","response","status","setSuccessMessage","navigate","json","errors","join","catch","error","console","log","render","Form","onSubmit","this","className","icon","faExclamationTriangle","Group","Control","size","name","placeholder","required","type","Button","variant","React","Component","RegistrationContainer","setAuthToken","mapDispatchToProps","connect","SignUpPage","pageInfo","pageName","title","keywords","to"],"mappings":"qQA8GeA,E,oBAvGb,WAAYC,GAAQ,IAAD,SACjB,cAAMA,IAAN,MAIFC,aAAe,SAAAC,GACbA,EAAEC,iBACF,IAAMC,EAAO,IAAIC,SAASH,EAAEI,QAE5B,GAAIF,EAAKG,IAAI,cAAgBH,EAAKG,IAAI,yBAKpC,OAJA,EAAKP,MAAMQ,gBAAgB,iCAC3B,EAAKC,UAAS,SAAAC,GACZ,OAAO,OAAP,UAAYA,EAAZ,CAAmBC,WAAW,OAKhB,oBAAXC,QAA0BA,OAAOC,MAAM,iDAAkD,CAC9FC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAAEC,KAAMC,OAAOC,YAAYhB,KAChDiB,QAAS,CACP,OAAU,mBACV,eAAgB,sBAGjBC,MAAK,SAAAC,GACJ,OAAQA,EAASC,QACf,KAAK,IACH,EAAKxB,MAAMyB,kBAAkB,oCAC7BC,mBAAS,YACT,MACF,KAAK,IACHH,EACGI,OACAL,MAAK,SAAAlB,GAAI,OAAI,EAAKJ,MAAMQ,gBAAgBJ,EAAKwB,OAAOC,KAAK,UAC5D,EAAKpB,UAAS,SAAAC,GACZ,OAAO,OAAP,UAAYA,EAAZ,CAAmBC,WAAW,WAMrCmB,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,OAxC9B,EAAKrB,MAAQ,CAAEC,WAAW,GAFT,E,0GA6CnBuB,OAAA,WACE,OACE,kBAACC,EAAA,EAAD,CAAMC,SAAUC,KAAKpC,cACnB,wBAAIqC,UAAU,iBAAd,WACCD,KAAK3B,MAAMC,WACV,0BAAM2B,UAAU,uBACd,kBAAC,IAAD,CAAiBC,KAAMC,MADzB,sCAKF,kBAACL,EAAA,EAAKM,MAAN,KACE,kBAACN,EAAA,EAAKO,QAAN,CACEC,KAAK,KACLL,UAAU,iBACVM,KAAK,WACLC,YAAY,YACZlC,UAAW0B,KAAK3B,MAAMC,UACtBmC,UAAQ,KAIZ,kBAACX,EAAA,EAAKM,MAAN,KACE,kBAACN,EAAA,EAAKO,QAAN,CACEC,KAAK,KACLL,UAAU,iBACVM,KAAK,WACLG,KAAK,WACLF,YAAY,WACZlC,UAAW0B,KAAK3B,MAAMC,UACtBmC,UAAQ,KAIZ,kBAACX,EAAA,EAAKM,MAAN,KACE,kBAACN,EAAA,EAAKO,QAAN,CACEC,KAAK,KACLL,UAAU,iBACVM,KAAK,wBACLG,KAAK,WACLF,YAAY,mBACZlC,UAAW0B,KAAK3B,MAAMC,UACtBmC,UAAQ,KAIZ,kBAACE,EAAA,EAAD,CACEL,KAAK,KACLL,UAAU,gBACVW,QAAQ,UACRF,KAAK,UAJP,a,GA3FwBG,IAAMC,W,ICGhCC,E,gLACJlB,OAAA,WACE,OACE,kBAAC,EAAD,CACEmB,aAAchB,KAAKrC,MAAMqD,aACzB5B,kBAAmBY,KAAKrC,MAAMyB,kBAC9BjB,gBAAiB6B,KAAKrC,MAAMQ,mB,GANA0C,IAAMC,WAgBpCG,EAAqB,CAAED,iBAAc5B,sBAAmBjB,qBAE/C+C,eANS,SAAA7C,GACtB,MAAO,KAOP4C,EAFaC,CAGbH,G,ICvBII,E,gLACJtB,OAAA,WACE,OACE,kBAAC,IAAD,CAAQuB,SAAU,CAAEC,SAAU,YAC5B,kBAAC,IAAD,CAAKC,MAAM,SAASC,SAAU,CAAC,SAAD,uBAE9B,yBAAKtB,UAAU,gBACb,kBAAC,EAAD,MACA,oDACqB,kBAAC,OAAD,CAAMuB,GAAG,YAAT,e,GATNX,IAAMC,WAiBhBK","file":"component---src-pages-sign-up-js-06911b1502780bc4e58e.js","sourcesContent":["import { navigate } from \"gatsby\"\nimport React from \"react\"\nimport { Form, Button } from \"react-bootstrap\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faExclamationTriangle } from \"@fortawesome/free-solid-svg-icons\"\n\nclass ReginstrationForm extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { isInvalid: false }\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    const data = new FormData(e.target)\n\n    if (data.get(\"password\") !== data.get(\"password_confirmation\")) {\n      this.props.setErrorMessage(\"Passwords need to match!\")\n      this.setState(state => {\n        return { ...state, isInvalid: true }\n      })\n      return\n    }\n\n    typeof window !== 'undefined' && window.fetch(\"https://todolist-endpoints.herokuapp.com/users\", {\n      method: \"POST\",\n      body: JSON.stringify({ user: Object.fromEntries(data) }),\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then(response => {\n        switch (response.status) {\n          case 201:\n            this.props.setSuccessMessage(\"You are successfully registered!\")\n            navigate(\"/sign_in\")\n            break\n          case 422:\n            response\n              .json()\n              .then(data => this.props.setErrorMessage(data.errors.join(\". \")))\n            this.setState(state => {\n              return { ...state, isInvalid: true }\n            })\n            break\n          default:\n        }\n      })\n      .catch(error => console.log(error))\n  }\n\n  render() {\n    return (\n      <Form onSubmit={this.handleSubmit}>\n        <h3 className=\"form__element\">Sign Up</h3>\n        {this.state.isInvalid && (\n          <span className=\"form__error_message\">\n            <FontAwesomeIcon icon={faExclamationTriangle} /> Some of this fields\n            are incorrect\n          </span>\n        )}\n        <Form.Group>\n          <Form.Control\n            size=\"lg\"\n            className=\"form__required\"\n            name=\"username\"\n            placeholder=\"User Name\"\n            isInvalid={this.state.isInvalid}\n            required\n          />\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Control\n            size=\"lg\"\n            className=\"form__required\"\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            isInvalid={this.state.isInvalid}\n            required\n          />\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Control\n            size=\"lg\"\n            className=\"form__required\"\n            name=\"password_confirmation\"\n            type=\"password\"\n            placeholder=\"Confirm Password\"\n            isInvalid={this.state.isInvalid}\n            required\n          />\n        </Form.Group>\n\n        <Button\n          size=\"lg\"\n          className=\"form__element\"\n          variant=\"primary\"\n          type=\"submit\"\n        >\n          Sign Up\n        </Button>\n      </Form>\n    )\n  }\n}\n\nexport default ReginstrationForm\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { setAuthToken } from \"../../store/auth/actions\"\nimport {\n  setSuccessMessage,\n  setErrorMessage,\n} from \"../../store/messages/actions\"\nimport Form from \"./Form\"\n\nclass RegistrationContainer extends React.Component {\n  render() {\n    return (\n      <Form\n        setAuthToken={this.props.setAuthToken}\n        setSuccessMessage={this.props.setSuccessMessage}\n        setErrorMessage={this.props.setErrorMessage}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {}\n}\n\nconst mapDispatchToProps = { setAuthToken, setSuccessMessage, setErrorMessage }\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(RegistrationContainer)\n","import React from \"react\"\nimport { Link } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport RegistrationContainer from \"../components/registration/RegistrationContainer\"\n\nclass SignUpPage extends React.Component {\n  render() {\n    return (\n      <Layout pageInfo={{ pageName: \"sign_up\" }}>\n        <SEO title=\"SignUp\" keywords={[`gatsby`, `react`, `bootstrap`]} />\n\n        <div className=\"form_wrapper\">\n          <RegistrationContainer />\n          <span>\n            Allready a member? <Link to=\"/sign_in\">Sign In</Link>\n          </span>\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default SignUpPage\n"],"sourceRoot":""}