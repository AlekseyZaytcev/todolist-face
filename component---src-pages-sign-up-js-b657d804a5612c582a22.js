(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"9eZ0":function(e,t,r){"use strict";r.r(t);var a=r("q1tI"),s=r.n(a),n=r("Wbzz"),o=r("Bl7J"),i=r("vrFN"),c=r("/MKj"),p=r("07Dp"),l=r("/t/q"),u=(r("91GP"),r("QojX")),m=r("cWnB"),d=r("IP2g"),f=r("wHSu");var h=function(e){var t,r;function a(t){var r;return(r=e.call(this,t)||this).handleSubmit=function(e){e.preventDefault();var t=new FormData(e.target);if(t.get("password")!==t.get("password_confirmation"))return r.props.setErrorMessage("Passwords need to match!"),void r.setState((function(e){return Object.assign({},e,{isInvalid:!0})}));fetch("https://todolist-endpoints.herokuapp.com/users",{method:"POST",body:JSON.stringify({user:Object.fromEntries(t)}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){switch(e.status){case 201:r.props.setSuccessMessage("You are successfully registered!"),Object(n.navigate)("/sign_in");break;case 422:e.json().then((function(e){return r.props.setErrorMessage(e.errors.join(". "))})),r.setState((function(e){return Object.assign({},e,{isInvalid:!0})}))}})).catch((function(e){return console.log(e)}))},r.state={isInvalid:!1},r}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return s.a.createElement(u.a,{onSubmit:this.handleSubmit},s.a.createElement("h3",{className:"form__element"},"Sign Up"),this.state.isInvalid&&s.a.createElement("span",{className:"form__error_message"},s.a.createElement(d.a,{icon:f.c})," Some of this fields are incorrect"),s.a.createElement(u.a.Group,null,s.a.createElement(u.a.Control,{size:"lg",className:"form__required",name:"username",placeholder:"User Name",isInvalid:this.state.isInvalid,required:!0})),s.a.createElement(u.a.Group,null,s.a.createElement(u.a.Control,{size:"lg",className:"form__required",name:"password",type:"password",placeholder:"Password",isInvalid:this.state.isInvalid,required:!0})),s.a.createElement(u.a.Group,null,s.a.createElement(u.a.Control,{size:"lg",className:"form__required",name:"password_confirmation",type:"password",placeholder:"Confirm Password",isInvalid:this.state.isInvalid,required:!0})),s.a.createElement(m.a,{size:"lg",className:"form__element",variant:"primary",type:"submit"},"Sign Up"))},a}(s.a.Component);var g=function(e){var t,r;function a(){return e.apply(this,arguments)||this}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return s.a.createElement(h,{setAuthToken:this.props.setAuthToken,setSuccessMessage:this.props.setSuccessMessage,setErrorMessage:this.props.setErrorMessage})},a}(s.a.Component),_={setAuthToken:p.d,setSuccessMessage:l.m,setErrorMessage:l.l},v=Object(c.b)((function(e){return{}}),_)(g);var y=function(e){var t,r;function a(){return e.apply(this,arguments)||this}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return s.a.createElement(o.a,{pageInfo:{pageName:"sign_up"}},s.a.createElement(i.a,{title:"SignUp",keywords:["gatsby","react","bootstrap"]}),s.a.createElement("div",{className:"form_wrapper"},s.a.createElement(v,null),s.a.createElement("span",null,"Allready a member? ",s.a.createElement(n.Link,{to:"/sign_in"},"Sign In"))))},a}(s.a.Component);t.default=y}}]);
//# sourceMappingURL=component---src-pages-sign-up-js-b657d804a5612c582a22.js.map